server.port=8085
spring.application.name=notification-service

# Configuración de Base de Datos (consistente con otros servicios)
spring.datasource.url=jdbc:postgresql://marakosbd.cx4a2amsay8c.us-east-2.rds.amazonaws.com:5432/db_marakos_grill
spring.datasource.username=usrDbMarakos
spring.datasource.password=Marakos2025
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Logging Configuration
logging.level.com.marakosgrill.notification=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# WhatsApp Business API Configuration
whatsapp.api.base-url=https://graph.facebook.com/v22.0
whatsapp.api.phone-number-id=880942215095445
whatsapp.api.access-token=EAAQF3ZB40lDEBPwZBwyoEsHPU3zwX72pn5ObWOLSFpb5hE8fm2OSZB9X9W98L2qtBHHHhBSuuGUAUH4C2NU7rrKO0xZCX20f1iXJP1KaOR2gW7OZCGAEYzpKHYC56LP4SZC9DFDCpcFlxQHuRvHISPYhg3gMfQPrsvD4RN24gKXFZAkS5gx4PLCJetZAkZAyHUWyFFZBWuKm5aJXZC8RsD78hGw2COOTRuMims7BUb9w8eUZCZCIZD
whatsapp.api.webhook-verify-token=grupo07

# Configuración de mensajes (templates de WhatsApp)
whatsapp.message.template.confirmation=marakos_reservation_confirmation
whatsapp.message.template.reminder=hello_world
whatsapp.message.template.cancellation=hello_world

# Configuración del restaurante
restaurant.name=Marakos Grill
restaurant.phone=+51-987-654-321
restaurant.address=Chiclayo, Perú
restaurant.website=https://www.marakos.pe/

# Circuit Breaker Configuration
resilience4j.circuitbreaker.instances.whatsapp.register-health-indicator=true
resilience4j.circuitbreaker.instances.whatsapp.sliding-window-size=10
resilience4j.circuitbreaker.instances.whatsapp.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.whatsapp.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.whatsapp.wait-duration-in-open-state=30s

# Retry Configuration
resilience4j.retry.instances.whatsapp.max-attempts=3
resilience4j.retry.instances.whatsapp.wait-duration=1s

# Management endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.security.enabled=false

# Spring Security Configuration
spring.security.user.name=admin
spring.security.user.password=marakos2023
security.basic.enabled=false
spring.security.enabled=false

# CORS Configuration
cors.allowed-origins=http://localhost:4200,http://localhost:3000
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true