```
ğŸ—„ï¸ DIAGRAMA SIMPLIFICADO - SISTEMA MARAKOS GRILL
================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ğŸ—ï¸ ARQUITECTURA DE MICROSERVICIOS                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ” AUTH-SERVICE (8080)          ğŸ‘¥ CUSTOMER-SERVICE (8081)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      USUARIO        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤       CLIENTE           â”‚
â”‚ ================    â”‚         â”‚ ==================      â”‚
â”‚ â€¢ id_usuario (PK)   â”‚         â”‚ â€¢ id_cliente (PK)       â”‚
â”‚ â€¢ email             â”‚         â”‚ â€¢ nombre                â”‚
â”‚ â€¢ password          â”‚         â”‚ â€¢ apellido              â”‚
â”‚ â€¢ tipo_usuario      â”‚         â”‚ â€¢ email                 â”‚
â”‚ â€¢ registro_activo   â”‚         â”‚ â€¢ telefono              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                               â”‚
            â”‚                               â”‚
            â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ğŸ½ï¸ MANAGEMENT-SERVICE (8082)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      CATEGORIA          â”‚           PRODUCTO                â”‚
â”‚ ================        â”‚ ============================      â”‚
â”‚ â€¢ id_categoria (PK)     â”‚ â€¢ id_producto (PK)               â”‚
â”‚ â€¢ nombre                â”‚ â€¢ id_categoria (FK)              â”‚
â”‚ â€¢ descripcion           â”‚ â€¢ codigo                         â”‚
â”‚ â€¢ icono                 â”‚ â€¢ nombre                         â”‚
â”‚ â€¢ registro_activo       â”‚ â€¢ precio                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ“… RESERVATION-SERVICE (8083)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     MESA      â”‚       RESERVA       â”‚         DETALLE_RESERVA               â”‚
â”‚ ==========    â”‚ ================    â”‚ ============================          â”‚
â”‚ â€¢ id_mesa(PK) â”‚ â€¢ id_reserva (PK)   â”‚ â€¢ id_detalle (PK)                     â”‚
â”‚ â€¢ numero_mesa â”‚ â€¢ id_cliente (FK)   â”‚ â€¢ id_reserva (FK)                     â”‚
â”‚ â€¢ capacidad   â”‚ â€¢ id_mesa (FK)      â”‚ â€¢ id_producto (FK)                    â”‚
â”‚ â€¢ estado      â”‚ â€¢ fecha_reserva     â”‚ â€¢ cantidad                            â”‚
â”‚ â€¢ ubicacion   â”‚ â€¢ estado            â”‚ â€¢ precio_unitario                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ğŸ’³ PAYMENT-SERVICE (8084)                    â”‚
â”‚                    PAGO                                     â”‚
â”‚ ===============================================             â”‚
â”‚ â€¢ id_pago (PK)                                              â”‚
â”‚ â€¢ id_reserva (FK)                                           â”‚
â”‚ â€¢ codigo_transaccion                                        â”‚
â”‚ â€¢ monto                                                     â”‚
â”‚ â€¢ metodo_pago                                               â”‚
â”‚ â€¢ estado_pago                                               â”‚
â”‚ â€¢ token_culqi                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸ‰ EVENT-PLANNING-SERVICE (8085)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     EVENTO      â”‚    DETALLE_EVENTO   â”‚    SERVICIO     â”‚   PAGO_EVENTO     â”‚
â”‚ ============    â”‚ ================    â”‚ ============    â”‚ ==============    â”‚
â”‚ â€¢ id_evento(PK) â”‚ â€¢ id_detalle (PK)   â”‚ â€¢ id_servicio   â”‚ â€¢ id_pago (PK)    â”‚
â”‚ â€¢ id_cliente    â”‚ â€¢ id_evento (FK)    â”‚ â€¢ nombre        â”‚ â€¢ id_evento (FK)  â”‚
â”‚ â€¢ nombre_evento â”‚ â€¢ id_servicio (FK)  â”‚ â€¢ categoria     â”‚ â€¢ monto           â”‚
â”‚ â€¢ tipo_evento   â”‚ â€¢ cantidad          â”‚ â€¢ precio_base   â”‚ â€¢ tipo_pago       â”‚
â”‚ â€¢ fecha_evento  â”‚ â€¢ precio_unitario   â”‚ â€¢ unidad_medida â”‚ â€¢ estado_pago     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”— FLUJO DE DATOS PRINCIPAL:
================================================================

1ï¸âƒ£  USUARIO se registra en AUTH-SERVICE
2ï¸âƒ£  InformaciÃ³n detallada se guarda en CUSTOMER-SERVICE  
3ï¸âƒ£  CLIENTE ve productos desde MANAGEMENT-SERVICE
4ï¸âƒ£  CLIENTE hace reserva en RESERVATION-SERVICE
5ï¸âƒ£  Reserva incluye productos del menÃº
6ï¸âƒ£  PAGO se procesa en PAYMENT-SERVICE con Culqi
7ï¸âƒ£  Opcionalmente, planifica EVENTO en EVENT-PLANNING-SERVICE

ğŸ“Š MÃ‰TRICAS DEL SISTEMA:
================================================================
â€¢ Total de Tablas: 11
â€¢ Microservicios: 5
â€¢ Relaciones Principales: 15+
â€¢ Campos de AuditorÃ­a: EstÃ¡ndar en todas las tablas
â€¢ Tipo de Base de Datos: PostgreSQL
â€¢ PatrÃ³n de Arquitectura: Microservicios con Event-Driven

ğŸ”‘ CLAVES FORÃNEAS CRÃTICAS:
================================================================
â€¢ CLIENTE.email â†â†’ USUARIO.email (VinculaciÃ³n cross-service)
â€¢ PRODUCTO.id_categoria â†’ CATEGORIA.id_categoria
â€¢ RESERVA.id_cliente â†’ CLIENTE.id_cliente
â€¢ RESERVA.id_mesa â†’ MESA.id_mesa
â€¢ DETALLE_RESERVA.id_reserva â†’ RESERVA.id_reserva
â€¢ DETALLE_RESERVA.id_producto â†’ PRODUCTO.id_producto
â€¢ PAGO.id_reserva â†’ RESERVA.id_reserva
â€¢ EVENTO.id_cliente â†’ CLIENTE.id_cliente

ğŸš€ ESCALABILIDAD:
================================================================
â€¢ Cada microservicio puede escalar independientemente
â€¢ Base de datos distribuida por dominio
â€¢ ComunicaciÃ³n asÃ­ncrona entre servicios
â€¢ PatrÃ³n CQRS para lectura/escritura optimizada
```